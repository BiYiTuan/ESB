package eab.util;

import java.io.File;

import org.apache.log4j.Logger;

/**
 * For all file operation, Delete Folder or File Copy Folder or File Move Folder
 * or File
 * 
 * @author fangjt
 * 
 */
public class FileOperator {
	/**
	 * Protect constructor since it is a static only class
	 */
	protected FileOperator() {
	}

	/**
	 * delete file or folder
	 * 
	 * @param path
	 *            file name or folder path
	 * @throws Exception
	 */
	public static void delete(String path) throws Exception {
		Logger log = Logger.getLogger(FileOperator.class);
		try {
			File f = new File(path);
			if (!f.exists())
				return;
			if (f.isDirectory()) {		// delete sub files
				String[] fileList = f.list();
				for (String file : fileList) {
					delete(path
							+ (path.endsWith(File.separator) ? ""
									: File.separator) + file);
				}
			}
			f.delete();
			log.debug("Delete File/Folder OK: " + path);
		} catch (Exception e) {
			log.error("Delete File/Folder Error: " + path + "\n  Exception: "
					+ e.getMessage() + "\n  Trace: " + e.getStackTrace());
			throw e;
		}
	}
}
