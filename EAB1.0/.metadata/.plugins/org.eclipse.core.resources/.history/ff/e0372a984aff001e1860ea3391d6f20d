package eab.console.business
{
	import flash.utils.Dictionary;
	
	   import eab.framework.other.EABFrameworkError;
   import eab.framework.other.EABFrameworkMessageCodes;
	
	import mx.rpc.remoting.RemoteObject;
	
	public class EABConsoleServiceLocator
	{
		private static var instance : EABConsoleServiceLocator;
		
		private var services : Dictionary = new Dictionary();
		
		public function EABConsoleServiceLocator()
		{
		}
	
		public static function getInstance() : EABConsoleServiceLocator
		{
			if ( instance == null )
			{
				instance = new EABConsoleServiceLocator();
			}
			
			return instance;
		}
		
//		public function EABConsoleServiceLocator() 
//		{   
//			if ( instance != null )
//			{
//				throw new EABFrameworkError( EABFrameworkMessageCodes.SINGLETON_EXCEPTION, "EABConsoleServiceLocator" );
//			}
//            
//			instance = this;
//		}
		
		public function GetRemoteObject(name : String) : RemoteObject
		{
			var destination : String = services[name];	
			var ro : RemoteObject = null;		
			
			if(destination == null)
			{
				throw new EABFrameworkError(EABFrameworkMessageCodes.REMOTE_OBJECT_NOT_FOUND, name );
			}		
			
			ro = new RemoteObject();			
			ro.destination = destination;
			
			return ro;
		}
	}
}